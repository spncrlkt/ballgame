# Test: Score increments
# Verifies scoring works with proper setup

name = "Score increments"
description = "Goal scored with full charge from close range"

[setup]
level = "test_shooting_range"

# Position player very close to basket for reliable scoring
# Arena width 1600, half=800, wall=20, basket at 780-40=740
[[setup.entities]]
type = "player"
id = "p1"
team = "left"
x = 680.0
y = -350.0
facing = 1.0
holding_ball = true

# Full charge shot for minimum variance
[[input]]
frame = 10
p1 = { throw_held = true }

[[input]]
frame = 70
p1 = { throw_held = false }

[expect.state]
after_frame = 200
checks = [
    "score.left = 1",
]
